# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Benchmark structure performance
#'
#' Measure runtime for computing column sums and sparse-dense matrix multiplication
#'
#' @param x sparse matrix object of class \code{dgCMatrix} of dimensions \code{m x n} with integral non-zero values
#' @param y dense matrix object of class \code{matrix} of dimensions \code{n x k}
#' @param n_reps number of reps
#' @return global variables \code{bench_colsums} and \code{bench_tcrossprod} in the global environment. Use \code{RcppClock::plot} method to visualize results, or coerce to a data.frame.
#' @export
#' @seealso \code{\link{tcrossprod}}
#' @examples
#' library(Matrix)
#' x <- rsparsematrix(50, 100, density = 0.5,
#'   rand.x = function(n) { sample(1:10, n, replace = TRUE)})
#' y <- matrix(runif(10 * 100), 10, 100)
#' VSE::benchmark(x, y)
#' plot(bench_tcrossprod)
#' plot(bench_colsums)
benchmark <- function(x, y, n_reps = 100L) {
    invisible(.Call(`_VSE_benchmark`, x, y, n_reps))
}

#' Compute column sums of sparse-encoded data
#'
#' @param A object of class \code{dgCMatrix}
#' @param encoding sparse encoding to be used
#' @export
#' @return vector of column sums
#' @examples
#' library(Matrix)
#' A <- rsparsematrix(100, 1000, density = 0.5,
#'   rand.x = function(n) { sample(1:10, n, replace = TRUE)})
#' v <- colsums(A, encoding = "TRCSC_NP")
#' plot(v, Matrix::colSums(A))
colsums <- function(A, encoding = "CSC") {
    .Call(`_VSE_colsums`, A, encoding)
}

c_inspect <- function(A, encoding = "CSC") {
    .Call(`_VSE_c_inspect`, A, encoding)
}

#' Get memory used by C++ object
#'
#' Calculates size of vector container, all sub-containers, and all index and value types within the container.  This function stores all values and indices as \code{short int}.
#'
#' @param A object of class \code{dgCMatrix}
#' @param encoding sparse encoding to be used
#' @export
#' @return size of object in bytes
#' @examples
#' library(Matrix)
#' A <- rsparsematrix(100, 1000, density = 0.5,
#'   rand.x = function(n) { sample(1:10, n, replace = TRUE)})
#' memuse(A, "TRCSC_NP")
memuse <- function(A, encoding = "CSC") {
    .Call(`_VSE_memuse`, A, encoding)
}

#' Cross-product of transpose
#'
#' @param x sparse matrix object of class \code{dgCMatrix} of dimensions \code{m x n} with integral non-zero values
#' @param y dense matrix object of class \code{matrix} of dimensions \code{n x k}
#' @param encoding sparse encoding to be used
#' @export
#' @return dense matrix giving the transpose cross-product
#' @examples
#' library(Matrix)
#' x <- rsparsematrix(100, 1000, density = 0.5,
#'        rand.x = function(n){sample(1 : 10, n, replace = TRUE)})
#' y <- matrix(runif(10 * 1000), 10, 1000)
#' plot(VSE::tcrossprod(x, y), t(Matrix::tcrossprod(x, y)))
tcrossprod <- function(x, y, encoding = "CSC") {
    .Call(`_VSE_tcrossprod`, x, y, encoding)
}

